# ğŸµ Netease Cloud Music Provider for MusicAssistant

[![MIT License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

ç½‘æ˜“äº‘éŸ³ä¹ MusicAssistant Provider - è®©æ‚¨çš„ MusicAssistant æ”¯æŒç½‘æ˜“äº‘éŸ³ä¹çš„å®Œæ•´åŠŸèƒ½ï¼

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¶ æ ¸å¿ƒåŠŸèƒ½
- ğŸ” **æ™ºèƒ½æœç´¢** - æœç´¢éŸ³ä¹ã€ä¸“è¾‘ã€è‰ºæœ¯å®¶ã€ç”µå°ã€æœ‰å£°è¯»ç‰©
- ğŸµ **é«˜å“è´¨æ’­æ”¾** - æ”¯æŒ FLAC æ— æŸéŸ³è´¨å’Œå¤šç§éŸ³æº
- ğŸ“» **ç”µå°æ”¯æŒ** - å®Œæ•´çš„ç”µå°èŠ‚ç›®æµè§ˆå’Œæ’­æ”¾
- ğŸ§ **æœ‰å£°è¯»ç‰©** - æ”¯æŒæœ‰å£°è¯»ç‰©å†…å®¹
- ğŸŒ **å¤šæºæ’­æ”¾** - è‡ªåŠ¨é€‰æ‹©æœ€ä½³éŸ³æºï¼Œæå‡æ’­æ”¾æˆåŠŸç‡

### ğŸ”§ é«˜çº§ç‰¹æ€§
- ğŸš€ **è§£é” API** - å¯é€‰çš„æ— ç‰ˆæƒé™åˆ¶éŸ³æºæ”¯æŒ
- âš™ï¸ **çµæ´»é…ç½®** - è‡ªå®šä¹‰ API åœ°å€å’Œå‚æ•°
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§ MusicAssistant ç•Œé¢
- ğŸ”„ **è‡ªåŠ¨å›é€€** - éŸ³æºè·å–å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢å¤‡ç”¨æ–¹æ¡ˆ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MusicAssistant â”‚â”€â”€â”€â”€â”‚  Netease Provider â”‚â”€â”€â”€â”€â”‚ NeteaseCloudAPI â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚   (Port 3000)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   Unblock API    â”‚
                       â”‚   (Port 3001)    â”‚
                       â”‚   Optional       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ å‰ç½®è¦æ±‚

### å¿…éœ€ç»„ä»¶
- âœ… **MusicAssistant** - å·²å®‰è£…å¹¶è¿è¡Œ
- âœ… **NeteaseCloudMusicApi** - ç½‘æ˜“äº‘éŸ³ä¹ API æœåŠ¡

### å¯é€‰ç»„ä»¶
- ğŸ”„ **Unblock API** - æ— ç‰ˆæƒé™åˆ¶éŸ³æºæœåŠ¡ï¼ˆæ¨èï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. éƒ¨ç½²ç½‘æ˜“äº‘éŸ³ä¹ API

```bash
# ä½¿ç”¨ Docker å¿«é€Ÿéƒ¨ç½²
docker run -d \
  --name netease-cloud-api \
  -p 3000:3000 \
  binaryify/netease_cloud_music_api
```

### 2. å¯é€‰ï¼šéƒ¨ç½²è§£é” APIï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥ umc_server ç›®å½•
cd ../umc_server

# æ„å»ºå¹¶è¿è¡Œè§£é” API
docker build -t netease-unblock-api .
docker run -d \
  --name netease-unblock-api \
  -p 3001:3000 \
  netease-unblock-api
```

### 3. å®‰è£… Provider

```bash
# æ–¹æ³•ä¸€ï¼šæ¨èæ–¹å¼
pip install -e .

# æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
# å°† netease_provider ç›®å½•å¤åˆ¶åˆ° MusicAssistant æ’ä»¶ç›®å½•
```

### 4. é…ç½® Provider

åœ¨ MusicAssistant é…ç½®é¡µé¢ï¼š
- **API åœ°å€**: `http://localhost:3000`
- **è§£é” API åœ°å€**: `http://localhost:3001` (å¯é€‰)

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸµ æ’­æ”¾éŸ³ä¹
é…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š

- **ğŸ” æœç´¢å†…å®¹**ï¼šè¾“å…¥æ­Œæ›²ã€è‰ºæœ¯å®¶ã€ä¸“è¾‘æˆ–ç”µå°åç§°
- **â–¶ï¸ æ’­æ”¾éŸ³ä¹**ï¼šç‚¹å‡»æœç´¢ç»“æœç›´æ¥æ’­æ”¾
- **ğŸ“» æ”¶å¬ç”µå°**ï¼šæµè§ˆå’Œæ’­æ”¾å„ç±»ç”µå°èŠ‚ç›®
- **ğŸ§ å¬æœ‰å£°è¯»ç‰©**ï¼šäº«å—æœ‰å£°è¯»ç‰©å†…å®¹

### âš™ï¸ é…ç½®è¯´æ˜

#### å¿…éœ€é…ç½®
- **API åœ°å€**: ç½‘æ˜“äº‘éŸ³ä¹ API æœåŠ¡åœ°å€
  - æœ¬åœ°éƒ¨ç½²: `http://localhost:3000`
  - è¿œç¨‹æœåŠ¡å™¨: `http://your-server:3000`

#### å¯é€‰é…ç½®
- **è§£é” API åœ°å€**: æ— ç‰ˆæƒé™åˆ¶éŸ³æºæœåŠ¡
  - å¯ç”¨åå¯è·å¾—æ›´é«˜è´¨é‡çš„éŸ³æº
  - åœ°å€ç¤ºä¾‹: `http://localhost:3001`

## ğŸ”Œ æŠ€æœ¯è§„æ ¼

### API æ¥å£ä½¿ç”¨
Provider é€šè¿‡ä»¥ä¸‹æ¥å£è·å–æ•°æ®ï¼š

| æ¥å£ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `/search` | æœç´¢ | æ”¯æŒå¤šç±»å‹å†…å®¹æœç´¢ |
| `/song/detail` | æ­Œæ›²è¯¦æƒ… | è·å–æ­Œæ›²è¯¦ç»†ä¿¡æ¯ |
| `/song/url/v1` | æ’­æ”¾åœ°å€ | è·å–éŸ³é¢‘æµåœ°å€ |
| `/album` | ä¸“è¾‘è¯¦æƒ… | è·å–ä¸“è¾‘ä¿¡æ¯ |
| `/artist/detail` | è‰ºæœ¯å®¶è¯¦æƒ… | è·å–è‰ºæœ¯å®¶ä¿¡æ¯ |
| `/dj/detail` | ç”µå°è¯¦æƒ… | è·å–ç”µå°èŠ‚ç›®ä¿¡æ¯ |

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
ma-netease-provider/
â”œâ”€â”€ netease_provider/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ provider.py          # Provider ä¸»å®ç°æ–‡ä»¶
â”œâ”€â”€ pyproject.toml           # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ manifest.json            # Provider æ¸…å•æ–‡ä»¶
â””â”€â”€ README.md                # è¯´æ˜æ–‡æ¡£
```

### æœ¬åœ°å¼€å‘

1. å…‹éš†ä»“åº“
2. å®‰è£…å¼€å‘ä¾èµ–ï¼š
   ```bash
   pip install -e ".[dev]"
   ```
3. è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰ï¼š
   ```bash
   pytest
   ```

## ğŸ”§ æ•…éšœæ’æŸ¥

### ğŸš« Provider åˆå§‹åŒ–å¤±è´¥

**å¯èƒ½åŸå› åŠè§£å†³æ–¹æ¡ˆï¼š**

- **âŒ API åœ°å€é”™è¯¯**
  ```bash
  # æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
  curl http://localhost:3000/search?keywords=æµ‹è¯•
  ```

- **ğŸŒ ç½‘ç»œè¿æ¥é—®é¢˜**
  - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
  - ç¡®è®¤ç«¯å£æœªè¢«å ç”¨ï¼š`netstat -tlnp | grep 3000`

- **ğŸ³ Docker å®¹å™¨é—®é¢˜**
  ```bash
  # æ£€æŸ¥å®¹å™¨çŠ¶æ€
  docker ps | grep netease
  docker logs netease-cloud-api
  ```

### ğŸ” æœç´¢æ— ç»“æœ

**æ’æŸ¥æ­¥éª¤ï¼š**
1. **æµ‹è¯• API å“åº”**
   ```bash
   curl "http://localhost:3000/search?keywords=ç¨»é¦™&type=song"
   ```

2. **æ£€æŸ¥ MusicAssistant æ—¥å¿—**
   ```bash
   # æŸ¥çœ‹ MA æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
   docker logs musicassistant 2>&1 | grep -i error
   ```

3. **éªŒè¯ API æœåŠ¡çŠ¶æ€**
   - è®¿é—® `http://localhost:3000` æŸ¥çœ‹æœåŠ¡çŠ¶æ€

### ğŸµ æ— æ³•æ’­æ”¾éŸ³ä¹

**å¸¸è§è§£å†³æ–¹æ¡ˆï¼š**

- **ç‰ˆæƒé™åˆ¶**: æŸäº›æ­Œæ›²å› ç‰ˆæƒé—®é¢˜æ— æ³•æ’­æ”¾
- **éŸ³æºä¸å¯ç”¨**: å°è¯•å¯ç”¨è§£é” API è·å–æ›´å¤šéŸ³æº
- **ç½‘ç»œé—®é¢˜**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œä»£ç†è®¾ç½®

**å¯ç”¨è§£é” API æå‡æ’­æ”¾æˆåŠŸç‡ï¼š**
```bash
# éƒ¨ç½²è§£é” API æœåŠ¡
cd ../umc_server
docker build -t netease-unblock .
docker run -d -p 3001:3000 netease-unblock
```

ç„¶ååœ¨ Provider é…ç½®ä¸­è®¾ç½®ï¼š
- **è§£é” API åœ°å€**: `http://localhost:3001`

## ğŸ¤ è´¡çŒ®ä¸æ”¯æŒ

### ğŸ› æŠ¥å‘Šé—®é¢˜
å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼š

1. **æ£€æŸ¥ç°æœ‰ Issue** - é¿å…é‡å¤æŠ¥å‘Š
2. **æä¾›è¯¦ç»†ä¿¡æ¯** - åŒ…å«é”™è¯¯æ—¥å¿—ã€é…ç½®ä¿¡æ¯å’Œé‡ç°æ­¥éª¤
3. **ä½¿ç”¨ Issue æ¨¡æ¿** - éµå¾ªé¡¹ç›®çš„ Issue æ¨¡æ¿

### ğŸ› ï¸ è´¡çŒ®ä»£ç 
æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·ï¼š

1. Fork æ­¤ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤ Pull Request

### ğŸ“ å¼€å‘è§„èŒƒ
- éµå¾ª PEP 8 ä»£ç é£æ ¼
- æ·»åŠ å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ç¡®ä¿å‘åå…¼å®¹æ€§

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- ğŸ“– [MusicAssistant å®˜æ–¹æ–‡æ¡£](https://music-assistant.io/)
- ğŸµ [ç½‘æ˜“äº‘éŸ³ä¹ API é¡¹ç›®](https://github.com/Binaryify/NeteaseCloudMusicApi)
- ğŸ”§ [MusicAssistant Provider å¼€å‘æŒ‡å—](https://music-assistant.io/providers/)

### ç›¸å…³é¡¹ç›®
- ğŸ¯ [MusicAssistant Demo Provider](https://github.com/music-assistant/demo-provider)
- ğŸš€ [UnblockNeteaseMusic Server](https://github.com/UnblockNeteaseMusic/server)

### ç¤¾åŒºæ”¯æŒ
- ğŸ’¬ [MusicAssistant Discord](https://discord.gg/musicassistant)
- ğŸ“§ [GitHub Discussions](https://github.com/music-assistant/core/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ Starï¼**

Made with â¤ï¸ for MusicAssistant community

</div>
